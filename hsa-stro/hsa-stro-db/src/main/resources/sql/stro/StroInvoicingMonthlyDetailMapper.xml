<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.hsa.module.stro.stroinvoicing.dao.StroInvoicingMonthlyDetailDAO">
  <resultMap id="BaseResultMap" type="cn.hsa.module.stro.stroinvoicing.entity.StroInvoicingMonthlyDetailDO">
    <id column="id" jdbcType="VARCHAR" property="id" />
    <result column="hosp_code" jdbcType="VARCHAR" property="hospCode" />
    <result column="biz_id" jdbcType="VARCHAR" property="bizId" />
    <result column="item_code" jdbcType="VARCHAR" property="itemCode" />
    <result column="item_id" jdbcType="VARCHAR" property="itemId" />
    <result column="item_name" jdbcType="VARCHAR" property="itemName" />
    <result column="num" jdbcType="DECIMAL" property="num" />
    <result column="unit_code" jdbcType="VARCHAR" property="unitCode" />
    <result column="curr_unit_code" jdbcType="VARCHAR" property="currUnitCode" />
    <result column="sell_price" jdbcType="DECIMAL" property="sellPrice" />
    <result column="buy_price" jdbcType="DECIMAL" property="buyPrice" />
    <result column="split_ratio" jdbcType="DECIMAL" property="splitRatio" />
    <result column="split_price" jdbcType="DECIMAL" property="splitPrice" />
    <result column="split_num" jdbcType="DECIMAL" property="splitNum" />
    <result column="split_unit_code" jdbcType="VARCHAR" property="splitUnitCode" />
    <result column="up_surplus_num" jdbcType="DECIMAL" property="upSurplusNum" />
    <result column="surplus_num" jdbcType="DECIMAL" property="surplusNum" />
    <result column="up_buy_price_all" jdbcType="DECIMAL" property="upBuyPriceAll" />
    <result column="buy_price_all" jdbcType="DECIMAL" property="buyPriceAll" />
    <result column="up_sell_price_all" jdbcType="DECIMAL" property="upSellPriceAll" />
    <result column="sell_price_all" jdbcType="DECIMAL" property="sellPriceAll" />
    <result column="crte_time" jdbcType="TIMESTAMP" property="crteTime" />
    <result column="new_price" jdbcType="DECIMAL" property="newPrice" />
    <result column="new_split_price" jdbcType="DECIMAL" property="newSplitPrice" />
    <result column="stro_in_num" jdbcType="DECIMAL" property="stroInNum" />
    <result column="stro_in_num_price_all" jdbcType="DECIMAL" property="stroInNumPriceAll" />
    <result column="return_supl_num" jdbcType="DECIMAL" property="returnSuplNum" />
    <result column="return_supl_price_all" jdbcType="DECIMAL" property="returnSuplPriceAll" />
    <result column="stro_to_dept_num" jdbcType="DECIMAL" property="stroToDeptNum" />
    <result column="stro_to_dept_price_all" jdbcType="DECIMAL" property="stroToDeptPriceAll" />
    <result column="stro_to_phar_num" jdbcType="DECIMAL" property="stroToPharNum" />
    <result column="stro_to_phar_price_all" jdbcType="DECIMAL" property="stroToPharPriceAll" />
    <result column="report_losses_num" jdbcType="DECIMAL" property="reportLossesNum" />
    <result column="report_losses_price_all" jdbcType="DECIMAL" property="reportLossesPriceAll" />
    <result column="phar_return_stro_num" jdbcType="DECIMAL" property="pharReturnStroNum" />
    <result column="phar_return_stro_price_all" jdbcType="DECIMAL" property="pharReturnStroPriceAll" />
    <result column="adjust_profit_price_all" jdbcType="DECIMAL" property="adjustProfitPriceAll" />
    <result column="adjust_loss_price_all" jdbcType="DECIMAL" property="adjustLossPriceAll" />
    <result column="take_strock_subtract_num" jdbcType="DECIMAL" property="takeStrockSubtractNum" />
    <result column="take_strock_subtract_price_all" jdbcType="DECIMAL" property="takeStrockSubtractPriceAll" />
    <result column="take_strock_add_num" jdbcType="DECIMAL" property="takeStrockAddNum" />
    <result column="take_strock_add_price_all" jdbcType="DECIMAL" property="takeStrockAddPriceAll" />
    <result column="stro_in_num_buy_price_all" jdbcType="DECIMAL" property="stroInNumBuyPriceAll" />
    <result column="return_supl_buy_price_all" jdbcType="DECIMAL" property="returnSuplBuyPriceAll" />
    <result column="stro_to_dept_buy_price_all" jdbcType="DECIMAL" property="stroToDeptBuyPriceAll" />
    <result column="stro_to_phar_buy_price_all" jdbcType="DECIMAL" property="stroToPharBuyPriceAll" />
    <result column="report_losses_buy_price_all" jdbcType="DECIMAL" property="reportLossesBuyPriceAll" />
    <result column="phar_return_stro_buy_price_all" jdbcType="DECIMAL" property="pharReturnStroBuyPriceAll" />
    <result column="adjust_profit_buy_price_all" jdbcType="DECIMAL" property="adjustProfitBuyPriceAll" />
    <result column="adjust_loss_buy_price_all" jdbcType="DECIMAL" property="adjustLossBuyPriceAll" />
    <result column="take_strock_subtract_buy_price_all" jdbcType="DECIMAL" property="takeStrockSubtractBuyPriceAll" />
    <result column="take_strock_add_buy_price_all" jdbcType="DECIMAL" property="takeStrockAddBuyPriceAll" />
    <result column="out_sales_num" jdbcType="DECIMAL" property="outSalesNum" />
    <result column="out_sales_price_all" jdbcType="DECIMAL" property="outSalesPriceAll" />
    <result column="out_sales_buy_price_all" jdbcType="DECIMAL" property="outSalesBuyPriceAll" />
    <result column="in_sales_buy_price_all" jdbcType="DECIMAL" property="inSalesBuyPriceAll" />
    <result column="in_sales_price_all" jdbcType="DECIMAL" property="inSalesPriceAll" />
    <result column="in_sales_num" jdbcType="DECIMAL" property="inSalesNum" />
    <result column="monthly_id" jdbcType="VARCHAR" property="monthlyId" />
  </resultMap>
  <sql id="Base_Column_List">
    id, hosp_code, biz_id, item_code, item_id, item_name, num, unit_code, curr_unit_code, 
    sell_price, buy_price, split_ratio, split_price, split_num, split_unit_code, up_surplus_num, 
    surplus_num, up_buy_price_all, buy_price_all, up_sell_price_all, sell_price_all, 
    crte_time, new_price, new_split_price, stro_in_num, stro_in_num_price_all, return_supl_num, 
    return_supl_price_all, stro_to_dept_num, stro_to_dept_price_all, stro_to_phar_num, 
    stro_to_phar_price_all, report_losses_num, report_losses_price_all, phar_return_stro_num, 
    phar_return_stro_price_all, adjust_profit_price_all, adjust_loss_price_all, take_strock_subtract_num, 
    take_strock_subtract_price_all, take_strock_add_num, take_strock_add_price_all, stro_in_num_buy_price_all, 
    return_supl_buy_price_all, stro_to_dept_buy_price_all, stro_to_phar_buy_price_all, 
    report_losses_buy_price_all, phar_return_stro_buy_price_all, adjust_profit_buy_price_all, 
    adjust_loss_buy_price_all, take_strock_subtract_buy_price_all, take_strock_add_buy_price_all, 
    out_sales_num, out_sales_price_all, out_sales_buy_price_all, in_sales_buy_price_all, 
    in_sales_price_all, in_sales_num, monthly_id
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from stro_invoicing_monthly_detail
    where id = #{id,jdbcType=VARCHAR}
  </select>
  <!--查询当日进销存-->
  <select id="getAllStroInvoicingByDate"
          resultType="cn.hsa.module.stro.stroinvoicing.dto.StroInvoicingMonthlyDetailDTO">
     SELECT
    a.item_id itemId,
    a.hosp_code hospCode,
    a.biz_id bizId,
    /*itemCode暂时不加，先看看查询的性能*/
    max(a.item_name) itemName,
    max(a.unit_code) unitCode,
    (select b.name from base_dept b where b.id = max(a.biz_id) and b.hosp_code = #{hospCode}) deptName,
    ifnull((select d.up_sell_price_all/d.up_surplus_num from stro_invoicing d
                where d.item_id = a.item_id and d.id = min(a.id)),0)upSellPrice, /*上期零售价格*/
    (select d.sell_price from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = max(a.id)) sellPrice,/*零售价格*/
    (select d.surplus_num from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = max(a.id)) surplusNum,/*本期数量*/
    (select d.sell_price_all from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = max(a.id)) sellPriceAll,/*零售总金额*/
    (select d.up_surplus_num from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = min(a.id)) upSurplusNum, /*上期数量*/
    ifnull((select d.up_sell_price_all from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = min(a.id)),0) upSellPriceAll, /*上期零售总金额*/
    sum(if( a.outin_code='2',a.sell_price * a.num,0)) stroInNumPriceAll,  /*直接入库零售总金额*/
    sum(if( a.outin_code='2',a.num,0)) stroInNum, /*直接入库数量*/
    sum(if( a.outin_code='3',a.sell_price * a.num,0)) returnSuplPriceAll, /*退供应商零售总金额*/
    sum(if( a.outin_code='3',a.num,0))  returnSuplNum,    /*退供应商数量*/
    sum(if( a.outin_code='4',a.sell_price * a.num,0)) stroToDeptPriceAll,   /*出库到科室零售总金额*/
    sum(if( a.outin_code='4',a.num,0)) stroToDeptNum, /*出库到科室数量*/
    sum(if( a.outin_code='5',a.sell_price * a.num,0)) stroToPharPriceAll,  /*采购计划零售总金额*/
    sum(if( a.outin_code='5',a.num,0)) stroToPharNum,    /*采购计划数量*/
    sum(if( a.outin_code='8',a.sell_price * a.num,0)) reportLossesPriceAll,    /*报损零售总金额*/
    sum(if( a.outin_code='8',a.num,0)) reportLossesNum,    /*报损数量*/
    sum(if( a.outin_code='21',a.sell_price * a.num,0)) pharReturnStroPriceAll,    /*药房退库零售总金额*/
    sum(if( a.outin_code='21',a.num,0)) pharReturnStroNum,    /*药房退库数量*/
    /*调盈零售总金额*/
    sum(if( a.outin_code='24' and a.sell_price_all > a.up_sell_price_all,a.sell_price_all - a.up_sell_price_all,0)) adjustProfitPriceAll,
    /*调亏零售总金额*/
    sum(if( a.outin_code='24' and a.sell_price_all > a.up_sell_price_all, a.sell_price_all - a.up_sell_price_all,0)) adjustLossPriceAll,
    sum(if( a.outin_code='7' and a.num &lt; 0,a.sell_price * a.num,0)) takeStrockSubtractPriceAll,/*盘亏零售总金额*/
    sum(if( a.outin_code='7' and a.num &lt; 0,a.num,0)) takeStrockSubtractNum,/*盘亏数量*/
    sum(if( a.outin_code='7' and a.num > 0,a.sell_price * a.num,0)) takeStrockAddPriceAll,/*盘盈零售总金额*/
    sum(if( a.outin_code='7' and a.num > 0, a.num,0)) takeStrockAddNum,/*盘盈数量*/
    /*按购进价*/
    (select d.buy_price from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = max(a.id)) buyPrice,/*购进单价*/
    (select d.buy_price_all from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = max(a.id)) buyPriceAll,/*购进总价*/
    ifnull((select d.up_buy_price_all from stro_invoicing d
                where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = min(a.id)),0) upBuyPriceAll,
    sum(if( a.outin_code='2',a.buy_price * a.num,0)) stroInNumBuyPriceAll,
    sum(if( a.outin_code='3',a.buy_price * a.num,0)) returnSuplBuyPriceAll,
    sum(if( a.outin_code='4',a.buy_price * a.num,0)) stroToDeptBuyPriceAll,
    sum(if( a.outin_code='5',a.buy_price * a.num,0)) stroToPharBuyPriceAll,
    sum(if( a.outin_code='8',a.buy_price * a.num,0)) reportLossesBuyPriceAll,
    sum(if( a.outin_code='21',a.buy_price * a.num,0)) pharReturnStroBuyPriceAll,
    sum(if( a.outin_code='24' and a.buy_price_all &gt; a.up_buy_price_all,a.buy_price_all - a.up_buy_price_all,0)) adjustProfitBuyPriceAll,
    sum(if( a.outin_code='24' and a.buy_price_all &lt;  a.up_buy_price_all, a.buy_price_all - a.up_buy_price_all,0)) adjustLossBuyPriceAll,
    sum(if( a.outin_code='7' and a.num &lt; 0,a.buy_price * a.num,0)) takeStrockSubtractBuyPriceAll,
    sum(if( a.outin_code='7' and a.num &gt; 0,a.buy_price * a.num,0)) takeStrockAddBuyPriceAll
    from stro_invoicing a
    left join (select item_id,hosp_code from stro_stock GROUP BY item_id) si on a.item_id = si.item_id
    where a.hosp_code = #{hospCode}
		and a.hosp_code = si.hosp_code
		and DATE_FORMAT(a.crte_time,'%Y-%m-%d') = #{date}
		and a.outin_code in ('2','3','4','5','7','8','21','24')
		and a.biz_id in (select p.id from base_dept p where  p.type_code in ("13","3") and p.hosp_code = #{hospCode})
    group by a.item_id,a.biz_id
  </select>
  <select id="queryItemIdList" resultType="java.lang.String">
    select item_id from stro_stock group by item_id
  </select>
  <select id="getRecentlyStroInvoicingByDate"
          resultType="cn.hsa.module.stro.stroinvoicing.dto.StroInvoicingMonthlyDetailDTO">
    SELECT
    a.item_id itemId,
    a.hosp_code hospCode,
    a.biz_id bizId,
    /*itemCode暂时不加，先看看查询的性能*/
    a.item_name itemName,
    a.unit_code unitCode,
    (select b.name from base_dept b where b.id = a.biz_id and b.hosp_code = #{hospCode}) deptName,
    ifnull((select d.up_sell_price_all/d.up_surplus_num from stro_invoicing d
    where d.item_id = a.item_id and d.id = a.id),0)upSellPrice, /*上期零售价格*/
    (select d.sell_price from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id) sellPrice,/*零售价格*/
    (select d.surplus_num from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id) surplusNum,/*本期数量*/
    (select d.sell_price_all from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id) sellPriceAll,/*零售总金额*/
    (select d.up_surplus_num from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id) upSurplusNum, /*上期数量*/
    ifnull((select d.up_sell_price_all from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id),0) upSellPriceAll, /*上期零售总金额*/
    if( a.outin_code='2',a.sell_price * a.num,0) stroInNumPriceAll,  /*直接入库零售总金额*/
    if( a.outin_code='2',a.num,0) stroInNum, /*直接入库数量*/
    if( a.outin_code='3',a.sell_price * a.num,0) returnSuplPriceAll, /*退供应商零售总金额*/
    if( a.outin_code='3',a.num,0)  returnSuplNum,    /*退供应商数量*/
    if( a.outin_code='4',a.sell_price * a.num,0) stroToDeptPriceAll,   /*出库到科室零售总金额*/
    if( a.outin_code='4',a.num,0) stroToDeptNum, /*出库到科室数量*/
    if( a.outin_code='5',a.sell_price * a.num,0) stroToPharPriceAll,  /*采购计划零售总金额*/
    if( a.outin_code='5',a.num,0) stroToPharNum,    /*采购计划数量*/
    if( a.outin_code='8',a.sell_price * a.num,0) reportLossesPriceAll,    /*报损零售总金额*/
    if( a.outin_code='8',a.num,0) reportLossesNum,    /*报损数量*/
    if( a.outin_code='21',a.sell_price * a.num,0) pharReturnStroPriceAll,    /*药房退库零售总金额*/
    if( a.outin_code='21',a.num,0) pharReturnStroNum,    /*药房退库数量*/
    /*调盈零售总金额*/
    if( a.outin_code='24' and a.sell_price_all > a.up_sell_price_all,a.sell_price_all - a.up_sell_price_all,0) adjustProfitPriceAll,
    /*调亏零售总金额*/
    if( a.outin_code='24' and a.sell_price_all > a.up_sell_price_all, a.sell_price_all - a.up_sell_price_all,0) adjustLossPriceAll,
    if( a.outin_code='7' and a.num &lt; 0,a.sell_price * a.num,0) takeStrockSubtractPriceAll,/*盘亏零售总金额*/
    if( a.outin_code='7' and a.num &lt; 0,a.num,0) takeStrockSubtractNum,/*盘亏数量*/
    if( a.outin_code='7' and a.num > 0,a.sell_price * a.num,0) takeStrockAddPriceAll,/*盘盈零售总金额*/
    if( a.outin_code='7' and a.num > 0, a.num,0) takeStrockAddNum,/*盘盈数量*/
    /*按购进价*/
    (select d.buy_price from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id) buyPrice,/*购进单价*/
    (select d.buy_price_all from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id) buyPriceAll,/*购进总价*/
    ifnull((select d.up_buy_price_all from stro_invoicing d
    where d.item_id = a.item_id and d.hosp_code = #{hospCode} and d.id = a.id),0) upBuyPriceAll,
    if( a.outin_code='2',a.buy_price * a.num,0) stroInNumBuyPriceAll,
    if( a.outin_code='3',a.buy_price * a.num,0) returnSuplBuyPriceAll,
    if( a.outin_code='4',a.buy_price * a.num,0) stroToDeptBuyPriceAll,
    if( a.outin_code='5',a.buy_price * a.num,0) stroToPharBuyPriceAll,
    if( a.outin_code='8',a.buy_price * a.num,0) reportLossesBuyPriceAll,
    if( a.outin_code='21',a.buy_price * a.num,0) pharReturnStroBuyPriceAll,
    if( a.outin_code='24' and a.buy_price_all > a.up_buy_price_all,a.buy_price_all - a.up_buy_price_all,0) adjustProfitBuyPriceAll,
    if( a.outin_code='24' and a.buy_price_all &lt;  a.up_buy_price_all, a.buy_price_all - a.up_buy_price_all,0) adjustLossBuyPriceAll,
    if( a.outin_code='7' and a.num &lt; 0,a.buy_price * a.num,0) takeStrockSubtractBuyPriceAll,
    if( a.outin_code='7' and a.num > 0,a.buy_price * a.num,0) takeStrockAddBuyPriceAll
    from (select a.*
    from stro_invoicing a
    left join (select item_id,hosp_code from stro_stock GROUP BY item_id) si on a.item_id = si.item_id
    where a.hosp_code = #{hospCode} and DATE_FORMAT(a.crte_time,'%Y-%m-%d') &lt; #{date}
    and a.outin_code in ('2','3','4','5','7','8','21','24')
    and a.biz_id in (select p.id from base_dept p where  p.type_code in ("13","3") and p.hosp_code = '1000001')
    and a.item_id in
    <foreach collection="itemIds" separator="," open="(" close=")" item="ietm">
        #{item}
    </foreach>
    order by a.crte_time desc limit 10000000) a
    where a.hosp_code = #{hospCode}
    group by a.item_id,a.biz_id

  </select>
  <select id="getAllPharStroInvoicingByDate"
          resultType="cn.hsa.module.stro.stroinvoicing.dto.StroInvoicingMonthlyDetailDTO">

  </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from stro_invoicing_monthly_detail
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" keyColumn="id" keyProperty="id" parameterType="cn.hsa.module.stro.stroinvoicing.entity.StroInvoicingMonthlyDetailDO" useGeneratedKeys="true">
    insert into stro_invoicing_monthly_detail (hosp_code, biz_id, item_code, 
      item_id, item_name, num, 
      unit_code, curr_unit_code, sell_price, 
      buy_price, split_ratio, split_price, 
      split_num, split_unit_code, up_surplus_num, 
      surplus_num, up_buy_price_all, buy_price_all, 
      up_sell_price_all, sell_price_all, crte_time, 
      new_price, new_split_price, stro_in_num, 
      stro_in_num_price_all, return_supl_num, return_supl_price_all, 
      stro_to_dept_num, stro_to_dept_price_all, stro_to_phar_num, 
      stro_to_phar_price_all, report_losses_num, report_losses_price_all, 
      phar_return_stro_num, phar_return_stro_price_all, 
      adjust_profit_price_all, adjust_loss_price_all, 
      take_strock_subtract_num, take_strock_subtract_price_all, 
      take_strock_add_num, take_strock_add_price_all, 
      stro_in_num_buy_price_all, return_supl_buy_price_all, 
      stro_to_dept_buy_price_all, stro_to_phar_buy_price_all, 
      report_losses_buy_price_all, phar_return_stro_buy_price_all, 
      adjust_profit_buy_price_all, adjust_loss_buy_price_all, 
      take_strock_subtract_buy_price_all, take_strock_add_buy_price_all, 
      out_sales_num, out_sales_price_all, out_sales_buy_price_all, 
      in_sales_buy_price_all, in_sales_price_all, in_sales_num, 
      monthly_id)
    values (#{hospCode,jdbcType=VARCHAR}, #{bizId,jdbcType=VARCHAR}, #{itemCode,jdbcType=VARCHAR}, 
      #{itemId,jdbcType=VARCHAR}, #{itemName,jdbcType=VARCHAR}, #{num,jdbcType=DECIMAL}, 
      #{unitCode,jdbcType=VARCHAR}, #{currUnitCode,jdbcType=VARCHAR}, #{sellPrice,jdbcType=DECIMAL}, 
      #{buyPrice,jdbcType=DECIMAL}, #{splitRatio,jdbcType=DECIMAL}, #{splitPrice,jdbcType=DECIMAL}, 
      #{splitNum,jdbcType=DECIMAL}, #{splitUnitCode,jdbcType=VARCHAR}, #{upSurplusNum,jdbcType=DECIMAL}, 
      #{surplusNum,jdbcType=DECIMAL}, #{upBuyPriceAll,jdbcType=DECIMAL}, #{buyPriceAll,jdbcType=DECIMAL}, 
      #{upSellPriceAll,jdbcType=DECIMAL}, #{sellPriceAll,jdbcType=DECIMAL}, #{crteTime,jdbcType=TIMESTAMP}, 
      #{newPrice,jdbcType=DECIMAL}, #{newSplitPrice,jdbcType=DECIMAL}, #{stroInNum,jdbcType=DECIMAL}, 
      #{stroInNumPriceAll,jdbcType=DECIMAL}, #{returnSuplNum,jdbcType=DECIMAL}, #{returnSuplPriceAll,jdbcType=DECIMAL}, 
      #{stroToDeptNum,jdbcType=DECIMAL}, #{stroToDeptPriceAll,jdbcType=DECIMAL}, #{stroToPharNum,jdbcType=DECIMAL}, 
      #{stroToPharPriceAll,jdbcType=DECIMAL}, #{reportLossesNum,jdbcType=DECIMAL}, #{reportLossesPriceAll,jdbcType=DECIMAL}, 
      #{pharReturnStroNum,jdbcType=DECIMAL}, #{pharReturnStroPriceAll,jdbcType=DECIMAL}, 
      #{adjustProfitPriceAll,jdbcType=DECIMAL}, #{adjustLossPriceAll,jdbcType=DECIMAL}, 
      #{takeStrockSubtractNum,jdbcType=DECIMAL}, #{takeStrockSubtractPriceAll,jdbcType=DECIMAL}, 
      #{takeStrockAddNum,jdbcType=DECIMAL}, #{takeStrockAddPriceAll,jdbcType=DECIMAL}, 
      #{stroInNumBuyPriceAll,jdbcType=DECIMAL}, #{returnSuplBuyPriceAll,jdbcType=DECIMAL}, 
      #{stroToDeptBuyPriceAll,jdbcType=DECIMAL}, #{stroToPharBuyPriceAll,jdbcType=DECIMAL}, 
      #{reportLossesBuyPriceAll,jdbcType=DECIMAL}, #{pharReturnStroBuyPriceAll,jdbcType=DECIMAL}, 
      #{adjustProfitBuyPriceAll,jdbcType=DECIMAL}, #{adjustLossBuyPriceAll,jdbcType=DECIMAL}, 
      #{takeStrockSubtractBuyPriceAll,jdbcType=DECIMAL}, #{takeStrockAddBuyPriceAll,jdbcType=DECIMAL}, 
      #{outSalesNum,jdbcType=DECIMAL}, #{outSalesPriceAll,jdbcType=DECIMAL}, #{outSalesBuyPriceAll,jdbcType=DECIMAL}, 
      #{inSalesBuyPriceAll,jdbcType=DECIMAL}, #{inSalesPriceAll,jdbcType=DECIMAL}, #{inSalesNum,jdbcType=DECIMAL}, 
      #{monthlyId,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" keyColumn="id" keyProperty="id" parameterType="cn.hsa.module.stro.stroinvoicing.entity.StroInvoicingMonthlyDetailDO" useGeneratedKeys="true">
    insert into stro_invoicing_monthly_detail
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="hospCode != null">
        hosp_code,
      </if>
      <if test="bizId != null">
        biz_id,
      </if>
      <if test="itemCode != null">
        item_code,
      </if>
      <if test="itemId != null">
        item_id,
      </if>
      <if test="itemName != null">
        item_name,
      </if>
      <if test="num != null">
        num,
      </if>
      <if test="unitCode != null">
        unit_code,
      </if>
      <if test="currUnitCode != null">
        curr_unit_code,
      </if>
      <if test="sellPrice != null">
        sell_price,
      </if>
      <if test="buyPrice != null">
        buy_price,
      </if>
      <if test="splitRatio != null">
        split_ratio,
      </if>
      <if test="splitPrice != null">
        split_price,
      </if>
      <if test="splitNum != null">
        split_num,
      </if>
      <if test="splitUnitCode != null">
        split_unit_code,
      </if>
      <if test="upSurplusNum != null">
        up_surplus_num,
      </if>
      <if test="surplusNum != null">
        surplus_num,
      </if>
      <if test="upBuyPriceAll != null">
        up_buy_price_all,
      </if>
      <if test="buyPriceAll != null">
        buy_price_all,
      </if>
      <if test="upSellPriceAll != null">
        up_sell_price_all,
      </if>
      <if test="sellPriceAll != null">
        sell_price_all,
      </if>
      <if test="crteTime != null">
        crte_time,
      </if>
      <if test="newPrice != null">
        new_price,
      </if>
      <if test="newSplitPrice != null">
        new_split_price,
      </if>
      <if test="stroInNum != null">
        stro_in_num,
      </if>
      <if test="stroInNumPriceAll != null">
        stro_in_num_price_all,
      </if>
      <if test="returnSuplNum != null">
        return_supl_num,
      </if>
      <if test="returnSuplPriceAll != null">
        return_supl_price_all,
      </if>
      <if test="stroToDeptNum != null">
        stro_to_dept_num,
      </if>
      <if test="stroToDeptPriceAll != null">
        stro_to_dept_price_all,
      </if>
      <if test="stroToPharNum != null">
        stro_to_phar_num,
      </if>
      <if test="stroToPharPriceAll != null">
        stro_to_phar_price_all,
      </if>
      <if test="reportLossesNum != null">
        report_losses_num,
      </if>
      <if test="reportLossesPriceAll != null">
        report_losses_price_all,
      </if>
      <if test="pharReturnStroNum != null">
        phar_return_stro_num,
      </if>
      <if test="pharReturnStroPriceAll != null">
        phar_return_stro_price_all,
      </if>
      <if test="adjustProfitPriceAll != null">
        adjust_profit_price_all,
      </if>
      <if test="adjustLossPriceAll != null">
        adjust_loss_price_all,
      </if>
      <if test="takeStrockSubtractNum != null">
        take_strock_subtract_num,
      </if>
      <if test="takeStrockSubtractPriceAll != null">
        take_strock_subtract_price_all,
      </if>
      <if test="takeStrockAddNum != null">
        take_strock_add_num,
      </if>
      <if test="takeStrockAddPriceAll != null">
        take_strock_add_price_all,
      </if>
      <if test="stroInNumBuyPriceAll != null">
        stro_in_num_buy_price_all,
      </if>
      <if test="returnSuplBuyPriceAll != null">
        return_supl_buy_price_all,
      </if>
      <if test="stroToDeptBuyPriceAll != null">
        stro_to_dept_buy_price_all,
      </if>
      <if test="stroToPharBuyPriceAll != null">
        stro_to_phar_buy_price_all,
      </if>
      <if test="reportLossesBuyPriceAll != null">
        report_losses_buy_price_all,
      </if>
      <if test="pharReturnStroBuyPriceAll != null">
        phar_return_stro_buy_price_all,
      </if>
      <if test="adjustProfitBuyPriceAll != null">
        adjust_profit_buy_price_all,
      </if>
      <if test="adjustLossBuyPriceAll != null">
        adjust_loss_buy_price_all,
      </if>
      <if test="takeStrockSubtractBuyPriceAll != null">
        take_strock_subtract_buy_price_all,
      </if>
      <if test="takeStrockAddBuyPriceAll != null">
        take_strock_add_buy_price_all,
      </if>
      <if test="outSalesNum != null">
        out_sales_num,
      </if>
      <if test="outSalesPriceAll != null">
        out_sales_price_all,
      </if>
      <if test="outSalesBuyPriceAll != null">
        out_sales_buy_price_all,
      </if>
      <if test="inSalesBuyPriceAll != null">
        in_sales_buy_price_all,
      </if>
      <if test="inSalesPriceAll != null">
        in_sales_price_all,
      </if>
      <if test="inSalesNum != null">
        in_sales_num,
      </if>
      <if test="monthlyId != null">
        monthly_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="hospCode != null">
        #{hospCode,jdbcType=VARCHAR},
      </if>
      <if test="bizId != null">
        #{bizId,jdbcType=VARCHAR},
      </if>
      <if test="itemCode != null">
        #{itemCode,jdbcType=VARCHAR},
      </if>
      <if test="itemId != null">
        #{itemId,jdbcType=VARCHAR},
      </if>
      <if test="itemName != null">
        #{itemName,jdbcType=VARCHAR},
      </if>
      <if test="num != null">
        #{num,jdbcType=DECIMAL},
      </if>
      <if test="unitCode != null">
        #{unitCode,jdbcType=VARCHAR},
      </if>
      <if test="currUnitCode != null">
        #{currUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="sellPrice != null">
        #{sellPrice,jdbcType=DECIMAL},
      </if>
      <if test="buyPrice != null">
        #{buyPrice,jdbcType=DECIMAL},
      </if>
      <if test="splitRatio != null">
        #{splitRatio,jdbcType=DECIMAL},
      </if>
      <if test="splitPrice != null">
        #{splitPrice,jdbcType=DECIMAL},
      </if>
      <if test="splitNum != null">
        #{splitNum,jdbcType=DECIMAL},
      </if>
      <if test="splitUnitCode != null">
        #{splitUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="upSurplusNum != null">
        #{upSurplusNum,jdbcType=DECIMAL},
      </if>
      <if test="surplusNum != null">
        #{surplusNum,jdbcType=DECIMAL},
      </if>
      <if test="upBuyPriceAll != null">
        #{upBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="buyPriceAll != null">
        #{buyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="upSellPriceAll != null">
        #{upSellPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="sellPriceAll != null">
        #{sellPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="crteTime != null">
        #{crteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="newPrice != null">
        #{newPrice,jdbcType=DECIMAL},
      </if>
      <if test="newSplitPrice != null">
        #{newSplitPrice,jdbcType=DECIMAL},
      </if>
      <if test="stroInNum != null">
        #{stroInNum,jdbcType=DECIMAL},
      </if>
      <if test="stroInNumPriceAll != null">
        #{stroInNumPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="returnSuplNum != null">
        #{returnSuplNum,jdbcType=DECIMAL},
      </if>
      <if test="returnSuplPriceAll != null">
        #{returnSuplPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToDeptNum != null">
        #{stroToDeptNum,jdbcType=DECIMAL},
      </if>
      <if test="stroToDeptPriceAll != null">
        #{stroToDeptPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToPharNum != null">
        #{stroToPharNum,jdbcType=DECIMAL},
      </if>
      <if test="stroToPharPriceAll != null">
        #{stroToPharPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="reportLossesNum != null">
        #{reportLossesNum,jdbcType=DECIMAL},
      </if>
      <if test="reportLossesPriceAll != null">
        #{reportLossesPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="pharReturnStroNum != null">
        #{pharReturnStroNum,jdbcType=DECIMAL},
      </if>
      <if test="pharReturnStroPriceAll != null">
        #{pharReturnStroPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustProfitPriceAll != null">
        #{adjustProfitPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustLossPriceAll != null">
        #{adjustLossPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockSubtractNum != null">
        #{takeStrockSubtractNum,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockSubtractPriceAll != null">
        #{takeStrockSubtractPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockAddNum != null">
        #{takeStrockAddNum,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockAddPriceAll != null">
        #{takeStrockAddPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroInNumBuyPriceAll != null">
        #{stroInNumBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="returnSuplBuyPriceAll != null">
        #{returnSuplBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToDeptBuyPriceAll != null">
        #{stroToDeptBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToPharBuyPriceAll != null">
        #{stroToPharBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="reportLossesBuyPriceAll != null">
        #{reportLossesBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="pharReturnStroBuyPriceAll != null">
        #{pharReturnStroBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustProfitBuyPriceAll != null">
        #{adjustProfitBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustLossBuyPriceAll != null">
        #{adjustLossBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockSubtractBuyPriceAll != null">
        #{takeStrockSubtractBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockAddBuyPriceAll != null">
        #{takeStrockAddBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="outSalesNum != null">
        #{outSalesNum,jdbcType=DECIMAL},
      </if>
      <if test="outSalesPriceAll != null">
        #{outSalesPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="outSalesBuyPriceAll != null">
        #{outSalesBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="inSalesBuyPriceAll != null">
        #{inSalesBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="inSalesPriceAll != null">
        #{inSalesPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="inSalesNum != null">
        #{inSalesNum,jdbcType=DECIMAL},
      </if>
      <if test="monthlyId != null">
        #{monthlyId,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="cn.hsa.module.stro.stroinvoicing.entity.StroInvoicingMonthlyDetailDO">
    update stro_invoicing_monthly_detail
    <set>
      <if test="hospCode != null">
        hosp_code = #{hospCode,jdbcType=VARCHAR},
      </if>
      <if test="bizId != null">
        biz_id = #{bizId,jdbcType=VARCHAR},
      </if>
      <if test="itemCode != null">
        item_code = #{itemCode,jdbcType=VARCHAR},
      </if>
      <if test="itemId != null">
        item_id = #{itemId,jdbcType=VARCHAR},
      </if>
      <if test="itemName != null">
        item_name = #{itemName,jdbcType=VARCHAR},
      </if>
      <if test="num != null">
        num = #{num,jdbcType=DECIMAL},
      </if>
      <if test="unitCode != null">
        unit_code = #{unitCode,jdbcType=VARCHAR},
      </if>
      <if test="currUnitCode != null">
        curr_unit_code = #{currUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="sellPrice != null">
        sell_price = #{sellPrice,jdbcType=DECIMAL},
      </if>
      <if test="buyPrice != null">
        buy_price = #{buyPrice,jdbcType=DECIMAL},
      </if>
      <if test="splitRatio != null">
        split_ratio = #{splitRatio,jdbcType=DECIMAL},
      </if>
      <if test="splitPrice != null">
        split_price = #{splitPrice,jdbcType=DECIMAL},
      </if>
      <if test="splitNum != null">
        split_num = #{splitNum,jdbcType=DECIMAL},
      </if>
      <if test="splitUnitCode != null">
        split_unit_code = #{splitUnitCode,jdbcType=VARCHAR},
      </if>
      <if test="upSurplusNum != null">
        up_surplus_num = #{upSurplusNum,jdbcType=DECIMAL},
      </if>
      <if test="surplusNum != null">
        surplus_num = #{surplusNum,jdbcType=DECIMAL},
      </if>
      <if test="upBuyPriceAll != null">
        up_buy_price_all = #{upBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="buyPriceAll != null">
        buy_price_all = #{buyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="upSellPriceAll != null">
        up_sell_price_all = #{upSellPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="sellPriceAll != null">
        sell_price_all = #{sellPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="crteTime != null">
        crte_time = #{crteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="newPrice != null">
        new_price = #{newPrice,jdbcType=DECIMAL},
      </if>
      <if test="newSplitPrice != null">
        new_split_price = #{newSplitPrice,jdbcType=DECIMAL},
      </if>
      <if test="stroInNum != null">
        stro_in_num = #{stroInNum,jdbcType=DECIMAL},
      </if>
      <if test="stroInNumPriceAll != null">
        stro_in_num_price_all = #{stroInNumPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="returnSuplNum != null">
        return_supl_num = #{returnSuplNum,jdbcType=DECIMAL},
      </if>
      <if test="returnSuplPriceAll != null">
        return_supl_price_all = #{returnSuplPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToDeptNum != null">
        stro_to_dept_num = #{stroToDeptNum,jdbcType=DECIMAL},
      </if>
      <if test="stroToDeptPriceAll != null">
        stro_to_dept_price_all = #{stroToDeptPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToPharNum != null">
        stro_to_phar_num = #{stroToPharNum,jdbcType=DECIMAL},
      </if>
      <if test="stroToPharPriceAll != null">
        stro_to_phar_price_all = #{stroToPharPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="reportLossesNum != null">
        report_losses_num = #{reportLossesNum,jdbcType=DECIMAL},
      </if>
      <if test="reportLossesPriceAll != null">
        report_losses_price_all = #{reportLossesPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="pharReturnStroNum != null">
        phar_return_stro_num = #{pharReturnStroNum,jdbcType=DECIMAL},
      </if>
      <if test="pharReturnStroPriceAll != null">
        phar_return_stro_price_all = #{pharReturnStroPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustProfitPriceAll != null">
        adjust_profit_price_all = #{adjustProfitPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustLossPriceAll != null">
        adjust_loss_price_all = #{adjustLossPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockSubtractNum != null">
        take_strock_subtract_num = #{takeStrockSubtractNum,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockSubtractPriceAll != null">
        take_strock_subtract_price_all = #{takeStrockSubtractPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockAddNum != null">
        take_strock_add_num = #{takeStrockAddNum,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockAddPriceAll != null">
        take_strock_add_price_all = #{takeStrockAddPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroInNumBuyPriceAll != null">
        stro_in_num_buy_price_all = #{stroInNumBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="returnSuplBuyPriceAll != null">
        return_supl_buy_price_all = #{returnSuplBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToDeptBuyPriceAll != null">
        stro_to_dept_buy_price_all = #{stroToDeptBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="stroToPharBuyPriceAll != null">
        stro_to_phar_buy_price_all = #{stroToPharBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="reportLossesBuyPriceAll != null">
        report_losses_buy_price_all = #{reportLossesBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="pharReturnStroBuyPriceAll != null">
        phar_return_stro_buy_price_all = #{pharReturnStroBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustProfitBuyPriceAll != null">
        adjust_profit_buy_price_all = #{adjustProfitBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="adjustLossBuyPriceAll != null">
        adjust_loss_buy_price_all = #{adjustLossBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockSubtractBuyPriceAll != null">
        take_strock_subtract_buy_price_all = #{takeStrockSubtractBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="takeStrockAddBuyPriceAll != null">
        take_strock_add_buy_price_all = #{takeStrockAddBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="outSalesNum != null">
        out_sales_num = #{outSalesNum,jdbcType=DECIMAL},
      </if>
      <if test="outSalesPriceAll != null">
        out_sales_price_all = #{outSalesPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="outSalesBuyPriceAll != null">
        out_sales_buy_price_all = #{outSalesBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="inSalesBuyPriceAll != null">
        in_sales_buy_price_all = #{inSalesBuyPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="inSalesPriceAll != null">
        in_sales_price_all = #{inSalesPriceAll,jdbcType=DECIMAL},
      </if>
      <if test="inSalesNum != null">
        in_sales_num = #{inSalesNum,jdbcType=DECIMAL},
      </if>
      <if test="monthlyId != null">
        monthly_id = #{monthlyId,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="cn.hsa.module.stro.stroinvoicing.entity.StroInvoicingMonthlyDetailDO">
    update stro_invoicing_monthly_detail
    set hosp_code = #{hospCode,jdbcType=VARCHAR},
      biz_id = #{bizId,jdbcType=VARCHAR},
      item_code = #{itemCode,jdbcType=VARCHAR},
      item_id = #{itemId,jdbcType=VARCHAR},
      item_name = #{itemName,jdbcType=VARCHAR},
      num = #{num,jdbcType=DECIMAL},
      unit_code = #{unitCode,jdbcType=VARCHAR},
      curr_unit_code = #{currUnitCode,jdbcType=VARCHAR},
      sell_price = #{sellPrice,jdbcType=DECIMAL},
      buy_price = #{buyPrice,jdbcType=DECIMAL},
      split_ratio = #{splitRatio,jdbcType=DECIMAL},
      split_price = #{splitPrice,jdbcType=DECIMAL},
      split_num = #{splitNum,jdbcType=DECIMAL},
      split_unit_code = #{splitUnitCode,jdbcType=VARCHAR},
      up_surplus_num = #{upSurplusNum,jdbcType=DECIMAL},
      surplus_num = #{surplusNum,jdbcType=DECIMAL},
      up_buy_price_all = #{upBuyPriceAll,jdbcType=DECIMAL},
      buy_price_all = #{buyPriceAll,jdbcType=DECIMAL},
      up_sell_price_all = #{upSellPriceAll,jdbcType=DECIMAL},
      sell_price_all = #{sellPriceAll,jdbcType=DECIMAL},
      crte_time = #{crteTime,jdbcType=TIMESTAMP},
      new_price = #{newPrice,jdbcType=DECIMAL},
      new_split_price = #{newSplitPrice,jdbcType=DECIMAL},
      stro_in_num = #{stroInNum,jdbcType=DECIMAL},
      stro_in_num_price_all = #{stroInNumPriceAll,jdbcType=DECIMAL},
      return_supl_num = #{returnSuplNum,jdbcType=DECIMAL},
      return_supl_price_all = #{returnSuplPriceAll,jdbcType=DECIMAL},
      stro_to_dept_num = #{stroToDeptNum,jdbcType=DECIMAL},
      stro_to_dept_price_all = #{stroToDeptPriceAll,jdbcType=DECIMAL},
      stro_to_phar_num = #{stroToPharNum,jdbcType=DECIMAL},
      stro_to_phar_price_all = #{stroToPharPriceAll,jdbcType=DECIMAL},
      report_losses_num = #{reportLossesNum,jdbcType=DECIMAL},
      report_losses_price_all = #{reportLossesPriceAll,jdbcType=DECIMAL},
      phar_return_stro_num = #{pharReturnStroNum,jdbcType=DECIMAL},
      phar_return_stro_price_all = #{pharReturnStroPriceAll,jdbcType=DECIMAL},
      adjust_profit_price_all = #{adjustProfitPriceAll,jdbcType=DECIMAL},
      adjust_loss_price_all = #{adjustLossPriceAll,jdbcType=DECIMAL},
      take_strock_subtract_num = #{takeStrockSubtractNum,jdbcType=DECIMAL},
      take_strock_subtract_price_all = #{takeStrockSubtractPriceAll,jdbcType=DECIMAL},
      take_strock_add_num = #{takeStrockAddNum,jdbcType=DECIMAL},
      take_strock_add_price_all = #{takeStrockAddPriceAll,jdbcType=DECIMAL},
      stro_in_num_buy_price_all = #{stroInNumBuyPriceAll,jdbcType=DECIMAL},
      return_supl_buy_price_all = #{returnSuplBuyPriceAll,jdbcType=DECIMAL},
      stro_to_dept_buy_price_all = #{stroToDeptBuyPriceAll,jdbcType=DECIMAL},
      stro_to_phar_buy_price_all = #{stroToPharBuyPriceAll,jdbcType=DECIMAL},
      report_losses_buy_price_all = #{reportLossesBuyPriceAll,jdbcType=DECIMAL},
      phar_return_stro_buy_price_all = #{pharReturnStroBuyPriceAll,jdbcType=DECIMAL},
      adjust_profit_buy_price_all = #{adjustProfitBuyPriceAll,jdbcType=DECIMAL},
      adjust_loss_buy_price_all = #{adjustLossBuyPriceAll,jdbcType=DECIMAL},
      take_strock_subtract_buy_price_all = #{takeStrockSubtractBuyPriceAll,jdbcType=DECIMAL},
      take_strock_add_buy_price_all = #{takeStrockAddBuyPriceAll,jdbcType=DECIMAL},
      out_sales_num = #{outSalesNum,jdbcType=DECIMAL},
      out_sales_price_all = #{outSalesPriceAll,jdbcType=DECIMAL},
      out_sales_buy_price_all = #{outSalesBuyPriceAll,jdbcType=DECIMAL},
      in_sales_buy_price_all = #{inSalesBuyPriceAll,jdbcType=DECIMAL},
      in_sales_price_all = #{inSalesPriceAll,jdbcType=DECIMAL},
      in_sales_num = #{inSalesNum,jdbcType=DECIMAL},
      monthly_id = #{monthlyId,jdbcType=VARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
</mapper>